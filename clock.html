<!DOCTYPE html>
<html>

<head>
        <link rel="stylesheet" href="task3a.css">
</head>

<body>


    <canvas id="rectangle" width="500" height="500"></canvas>
    <a href="alarmb.html">Alarm</a>
    <a href="task3b.html">Timer</a>
    <a href="task3d.html">StopWatch</a>
    <p id="timer"></p>
    <script>
        var countee = document.getElementById("timer");
        var clock = setInterval(timer, 1000);

        var canvas = document.getElementById("rectangle");
        var context = canvas.getContext("2d");
        var radius = canvas.width / 2;
        context.translate(radius, radius);
        radius = radius * 0.7;
        context.beginPath();

        context.arc(0, 0, radius, 0, 2 * Math.PI, false);
        context.lineWidth = 15;
        context.strokeStyle = "skyblue";
        context.stroke();
        var now = new Date();
        var hrs = now.getTime();
        var min = now.getMinutes();
        var sec = now.getSeconds();


        function timer() {
            var dat = new Date();
            countee.innerHTML = dat.toLocaleTimeString();
        }
        var inter = setInterval(function () {

            var ang;
            var num;
            context.font = radius * 0.20 + "px cursive";
            context.textBaseline = "middle";
            context.textAlign = "center";
            for (num = 0; num < 13; num++) {
                if (num > 0) {
                    ang = num * Math.PI / 6;
                    context.rotate(ang);
                    context.translate(0, -radius * 0.85);
                    context.rotate(-ang);
                    context.fillText(num.toString(), 0, 0);
                    context.rotate(ang);
                    context.translate(0, radius * 0.85);
                    context.rotate(-ang);
                }
                num++;
                num++;
            }


            var hour, minute, second;
            var now = new Date();
            var hrs = now.getHours();

            var min = now.getMinutes();
            // console.log(min);
            var sec = now.getSeconds();
            //    console.log("09290902");
            // context.clearRect(0,0,200,200);
            context.clearRect(-110, -110, 220, 220);
            hrs = hrs % 12;
            // console.log(hrs);
            // hrs = hrs >= 12 ? hrs - 12 : hrs;
            // hour=0.5*(60*hrs + min);

            hour = (hrs * Math.PI / 6) + (min * Math.PI / (6 * 60)) + (sec * Math.PI / (360 * 60));
            //  console.log(hour);
            // hour=360*(hrs/12)+(360/12)*(min/60);

            minute = (min * Math.PI / 30) + (sec * Math.PI / (30 * 60));
            second = (sec * Math.PI / 30);
            context.beginPath();
            context.strokeStyle = "black";
            context.moveTo(0, 0);
            context.rotate(second);
            context.lineTo(0, -(radius * 0.6));
            context.lineWidth = 1;
            context.rotate(-second);
            context.stroke();
            //minute
            context.beginPath();
            context.strokeStyle = "black";
            context.moveTo(0, 0);
            context.rotate(minute);
            context.lineTo(0, -(radius * 0.5));
            context.lineWidth = 2;
            context.stroke();
            context.rotate(-minute);

            //hour
            context.beginPath();
            context.strokeStyle = "black";
            context.moveTo(0, 0);
            context.rotate(hour);
            context.lineTo(0, -(radius * 0.4));
            context.lineWidth = 3;
            context.rotate(-hour);
            context.stroke();
            //  console.log(hour);
        }, 1000);

        // console.log(Math.PI);
    </script>
</body>

</html>